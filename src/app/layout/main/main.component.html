<mat-sidenav-container style="height: 100vh;">
  <mat-sidenav mode="side" opened>
    <app-sidebar></app-sidebar>
  </mat-sidenav>

  <mat-sidenav-content>
    <mat-toolbar color="primary">
      <app-header></app-header>

    </mat-toolbar>

    <div style="padding: 24px;">
        <mat-card class="mat-elevation-z4" style="padding: 20px; max-width: 800px; margin: auto; margin-top: 30px;">
  <h2>🔐 Custom JWT Generator</h2>

  <mat-form-field appearance="outline" class="w-100">
    <mat-label>Payload (JSON format)</mat-label>
    <textarea
      matInput
      [(ngModel)]="payloadText"
      rows="6"
    ></textarea>
  </mat-form-field>

  <div style="margin-top: 16px;">
    <button mat-raised-button color="primary" (click)="generate()">Generate Token</button>
    <button mat-raised-button color="accent" (click)="verify()" style="margin-left: 8px;">Verify Token</button>
  </div>

  <div *ngIf="generatedToken" style="margin-top: 24px;">
    <mat-divider></mat-divider>
    <h4 style="margin-top: 16px;">Generated Token:</h4>
    <mat-form-field appearance="fill" class="w-100">
      <textarea matInput readonly rows="4">{{ generatedToken }}</textarea>
    </mat-form-field>
  </div>

  <div *ngIf="isValid !== null">
    <h4>Verification Result:</h4>
    <p>
      <mat-chip [color]="isValid ? 'primary' : 'warn'" selected>
        {{ isValid ? 'Valid ✅' : 'Invalid ❌' }}
      </mat-chip>
    </p>
  </div>

  <div *ngIf="decodedPayload">
    <h4>Decoded Payload:</h4>
    <mat-card class="mat-elevation-z2" color="background">
      <pre>{{ decodedPayload | json }}</pre>
    </mat-card>
  </div>
</mat-card>

        <router-outlet></router-outlet>
        <app-support></app-support>
    </div>

    <mat-toolbar color="accent">
      <app-footer></app-footer>
    </mat-toolbar>
  </mat-sidenav-content>
</mat-sidenav-container>